


setwd("D:/Users/lrains/Desktop/tmp/SMOS_CMEM/Ascending_42_5i_2010/")


library(ncdf)
library(raster)


#files <- list.files(path="D:/Users/lrains/Desktop/tmp/SMOS_CMEM/Ascending_42_5i_H_2010/", pattern=".nc", all.files=T, full.names=T)
#files <- list.files(path="D:/Users/lrains/Desktop/tmp/SMOS_CMEM/Ascending_42_5i_V_2010/", pattern=".nc", all.files=T, full.names=T)

files = list.files("F:/Users/lrains/SMOS/_processed/SMOS_CMEM/Ascending_42_5i_H_2011/", pattern=".nc", all.files=T, full.names=T)


# create empty brick

s1 <- brick(nc=1440, nr=720, nl=365)

brick = stack(files)
e = extent(brick)

setExtent(s1,e)


s1[[15]] = subset(brick,1)
s1[[16]] = subset(brick,2)
s1[[17]] = subset(brick,3)
s1[[18]] = subset(brick,4)
s1[[19]] = subset(brick,5)

s1[[40]] = subset(brick,6)
s1[[41]] = subset(brick,7)
s1[[42]] = subset(brick,8)
s1[[43]] = subset(brick,9)

s1[[44]] = subset(brick,10)
s1[[45]] = subset(brick,11)
s1[[46]] = subset(brick,12)
s1[[47]] = subset(brick,13)

s1[[55]] = subset(brick,14)
s1[[56]] = subset(brick,15)
s1[[57]] = subset(brick,16)
s1[[58]] = subset(brick,17)

s1[[60]] = subset(brick,18)
s1[[61]] = subset(brick,19)

s1[[69]] = subset(brick,20)
s1[[70]] = subset(brick,21)
s1[[71]] = subset(brick,22)
s1[[72]] = subset(brick,23)
s1[[73]] = subset(brick,24)
s1[[74]] = subset(brick,25)
s1[[75]] = subset(brick,26)

s1[[83]] = subset(brick,27)
s1[[84]] = subset(brick,28)
s1[[85]] = subset(brick,29)
s1[[86]] = subset(brick,30)
s1[[87]] = subset(brick,31)
s1[[88]] = subset(brick,32)
s1[[89]] = subset(brick,33)

s1[[97]] = subset(brick,34)
s1[[98]] = subset(brick,35)
s1[[99]] = subset(brick,36)
s1[[100]] = subset(brick,37)
s1[[101]] = subset(brick,38)
s1[[102]] = subset(brick,39)

s1[[117]] = subset(brick,40)
s1[[118]] = subset(brick,41)
s1[[119]] = subset(brick,42)
s1[[120]] = subset(brick,43)

s1[[121]] = subset(brick,44)
s1[[122]] = subset(brick,45)

s1[[130]] = subset(brick,46)
s1[[131]] = subset(brick,47)
s1[[132]] = subset(brick,48)
s1[[133]] = subset(brick,49)
s1[[134]] = subset(brick,50)
s1[[135]] = subset(brick,51)
s1[[136]] = subset(brick,52)

s1[[144]] = subset(brick,53)
s1[[145]] = subset(brick,54)
s1[[146]] = subset(brick,55)
s1[[147]] = subset(brick,56)
s1[[148]] = subset(brick,57)
s1[[149]] = subset(brick,58)
s1[[150]] = subset(brick,59)

s1[[151]] = subset(brick,60)
s1[[152]] = subset(brick,61)
s1[[153]] = subset(brick,62)
s1[[154]] = subset(brick,63)
s1[[155]] = subset(brick,64)
s1[[156]] = subset(brick,65)
s1[[157]] = subset(brick,66)
s1[[158]] = subset(brick,67)
s1[[159]] = subset(brick,68)
s1[[160]] = subset(brick,69)
s1[[161]] = subset(brick,70)
s1[[162]] = subset(brick,71)
s1[[163]] = subset(brick,72)
s1[[164]] = subset(brick,73)
s1[[165]] = subset(brick,74)
s1[[166]] = subset(brick,75)
s1[[167]] = subset(brick,76)
s1[[168]] = subset(brick,77)
s1[[169]] = subset(brick,78)
s1[[170]] = subset(brick,79)
s1[[171]] = subset(brick,80)
s1[[172]] = subset(brick,81)
s1[[173]] = subset(brick,82)
s1[[174]] = subset(brick,83)
s1[[175]] = subset(brick,84)
s1[[176]] = subset(brick,85)
s1[[177]] = subset(brick,86)
s1[[178]] = subset(brick,87)
s1[[179]] = subset(brick,88)
s1[[180]] = subset(brick,89)
s1[[181]] = subset(brick,90)

s1[[182]] = subset(brick,91)
s1[[183]] = subset(brick,92)
s1[[184]] = subset(brick,93)
s1[[185]] = subset(brick,94)
s1[[186]] = subset(brick,95)
s1[[187]] = subset(brick,96)
s1[[188]] = subset(brick,97)
s1[[189]] = subset(brick,98)
s1[[190]] = subset(brick,99)
s1[[191]] = subset(brick,100)
s1[[192]] = subset(brick,101)
s1[[193]] = subset(brick,102)
s1[[194]] = subset(brick,103)
s1[[195]] = subset(brick,104)
s1[[196]] = subset(brick,105)
s1[[197]] = subset(brick,106)
s1[[198]] = subset(brick,107)
s1[[199]] = subset(brick,108)
s1[[200]] = subset(brick,109)
s1[[201]] = subset(brick,110)
s1[[202]] = subset(brick,111)
s1[[203]] = subset(brick,112)
s1[[204]] = subset(brick,113)
s1[[205]] = subset(brick,114)
s1[[206]] = subset(brick,115)
s1[[207]] = subset(brick,116)
s1[[208]] = subset(brick,117)
s1[[209]] = subset(brick,118)
s1[[210]] = subset(brick,119)
s1[[211]] = subset(brick,120)
s1[[212]] = subset(brick,121)



s1[[213]] = subset(brick,122)
s1[[214]] = subset(brick,123)
s1[[215]] = subset(brick,124)
s1[[216]] = subset(brick,125)
s1[[217]] = subset(brick,126)
s1[[218]] = subset(brick,127)
s1[[219]] = subset(brick,128)
s1[[220]] = subset(brick,129)
s1[[221]] = subset(brick,130)
s1[[222]] = subset(brick,131)
s1[[223]] = subset(brick,132)
s1[[224]] = subset(brick,133)
s1[[225]] = subset(brick,134)
s1[[226]] = subset(brick,135)
s1[[227]] = subset(brick,136)
s1[[228]] = subset(brick,137)
s1[[229]] = subset(brick,138)
s1[[230]] = subset(brick,139)
s1[[231]] = subset(brick,140)
s1[[232]] = subset(brick,141)
s1[[233]] = subset(brick,142)
s1[[234]] = subset(brick,143)
s1[[235]] = subset(brick,144)
s1[[236]] = subset(brick,145)
s1[[237]] = subset(brick,146)
s1[[238]] = subset(brick,147)
s1[[239]] = subset(brick,148)
s1[[240]] = subset(brick,149)
s1[[241]] = subset(brick,150)
s1[[242]] = subset(brick,151)
s1[[243]] = subset(brick,152)

s1[[244]] = subset(brick,153)
s1[[245]] = subset(brick,154)
s1[[246]] = subset(brick,155)
s1[[247]] = subset(brick,156)
s1[[248]] = subset(brick,157)
s1[[249]] = subset(brick,158)
s1[[250]] = subset(brick,159)
s1[[251]] = subset(brick,160)
s1[[252]] = subset(brick,161)
s1[[253]] = subset(brick,162)
s1[[254]] = subset(brick,163)
s1[[255]] = subset(brick,164)
s1[[256]] = subset(brick,165)
s1[[257]] = subset(brick,166)
s1[[258]] = subset(brick,167)
s1[[259]] = subset(brick,168)
s1[[260]] = subset(brick,169)
s1[[261]] = subset(brick,170)
s1[[262]] = subset(brick,171)
s1[[263]] = subset(brick,172)
s1[[264]] = subset(brick,173)
s1[[265]] = subset(brick,174)
s1[[266]] = subset(brick,175)
s1[[267]] = subset(brick,176)
s1[[268]] = subset(brick,177)
s1[[269]] = subset(brick,178)
s1[[270]] = subset(brick,179)
s1[[271]] = subset(brick,180)
s1[[272]] = subset(brick,181)
s1[[273]] = subset(brick,182)


s1[[274]] = subset(brick,183)
s1[[275]] = subset(brick,184)
s1[[276]] = subset(brick,185)
s1[[277]] = subset(brick,186)
s1[[278]] = subset(brick,187)
s1[[279]] = subset(brick,188)
s1[[280]] = subset(brick,189)
s1[[281]] = subset(brick,190)
s1[[282]] = subset(brick,191)
s1[[283]] = subset(brick,192)
s1[[284]] = subset(brick,193)
s1[[285]] = subset(brick,194)
s1[[286]] = subset(brick,195)
s1[[287]] = subset(brick,196)
s1[[288]] = subset(brick,197)
s1[[289]] = subset(brick,198)
s1[[290]] = subset(brick,199)
s1[[291]] = subset(brick,200)
s1[[292]] = subset(brick,201)
s1[[293]] = subset(brick,202)
s1[[294]] = subset(brick,203)
s1[[295]] = subset(brick,204)
s1[[296]] = subset(brick,205)
s1[[297]] = subset(brick,206)
s1[[298]] = subset(brick,207)
s1[[299]] = subset(brick,208)
s1[[300]] = subset(brick,209)
s1[[301]] = subset(brick,210)
s1[[302]] = subset(brick,211)
s1[[303]] = subset(brick,212)
s1[[304]] = subset(brick,213)

s1[[305]] = subset(brick,214)
s1[[306]] = subset(brick,215)
s1[[307]] = subset(brick,216)
s1[[308]] = subset(brick,217)
s1[[309]] = subset(brick,218)
s1[[310]] = subset(brick,219)
s1[[311]] = subset(brick,220)
s1[[312]] = subset(brick,221)
s1[[313]] = subset(brick,222)
s1[[314]] = subset(brick,223)
s1[[315]] = subset(brick,224)
s1[[316]] = subset(brick,225)
s1[[317]] = subset(brick,226)
s1[[318]] = subset(brick,227)
s1[[319]] = subset(brick,228)
s1[[320]] = subset(brick,229)
s1[[321]] = subset(brick,230)
s1[[322]] = subset(brick,231)
s1[[323]] = subset(brick,232)
s1[[324]] = subset(brick,233)
s1[[325]] = subset(brick,234)
s1[[326]] = subset(brick,235)
s1[[327]] = subset(brick,236)
s1[[328]] = subset(brick,237)
s1[[329]] = subset(brick,238)
s1[[330]] = subset(brick,239)
s1[[331]] = subset(brick,240)
s1[[332]] = subset(brick,241)
s1[[333]] = subset(brick,242)
s1[[334]] = subset(brick,243)
s1[[335]] = subset(brick,244)

s1[[336]] = subset(brick,245)
s1[[337]] = subset(brick,246)
s1[[338]] = subset(brick,247)
s1[[339]] = subset(brick,248)
s1[[340]] = subset(brick,249)
s1[[341]] = subset(brick,250)
s1[[342]] = subset(brick,251)
s1[[343]] = subset(brick,252)
s1[[344]] = subset(brick,253)
s1[[345]] = subset(brick,254)
s1[[346]] = subset(brick,255)
s1[[347]] = subset(brick,256)
s1[[348]] = subset(brick,257)
s1[[349]] = subset(brick,258)
s1[[350]] = subset(brick,259)
s1[[351]] = subset(brick,260)
s1[[352]] = subset(brick,261)
s1[[353]] = subset(brick,262)
s1[[354]] = subset(brick,263)
s1[[355]] = subset(brick,264)
s1[[356]] = subset(brick,265)
s1[[357]] = subset(brick,266)


setwd("F:/Users/lrains")

#writeRaster(s1, filename="SMOS_TBH_Asc_2010_42_5i.nc", format="CDF", overwrite=TRUE)
writeRaster(s1, filename="SMOS_TBV_Asc_2010_42_5i.nc", format="CDF", overwrite=TRUE)
